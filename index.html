<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-B4NNMM8SSN"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-B4NNMM8SSN');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Degens Idle v0.832</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="library.css">    
    <link rel="stylesheet" href="powerhall.css">    
    <link rel="stylesheet" type="text/css" href="settings.css">
    <link href="https://fonts.googleapis.com/css2?family=Uncial+Antiqua&display=swap" rel="stylesheet"> <!-- Google Font -->
</head>
<body>
    <div id="messageModal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="closeMessageModal">&times;</span>
            <h2 id="modalTitle"></h2>
            <p id="modalMessage"></p>
            <img id="modalImage" src="" style="display: none; max-width: 100%; max-height: 1800px; margin: 10px 0;">
            <button id="modalCloseButton">Close</button>
            <div id="modalConfirmButtons" style="display:none;">
                <button id="modalConfirmButton">Confirm</button>
                <button id="modalCancelButton">Cancel</button>
            </div>
            <div id="ascendUpgradeSelection" style="display:none;">
                <h3>Choose the upgrade you want to use as your ascension focal point - this will permanently enhance it to be 10x as strong.:</h3>
                <div id="ascendUpgradeList"></div>
                <button id="upgradeConfirmButton" style="display:none;">Confirm Selection</button>
            </div>
            <div id="gameInputSection" style="display:none;">
                <input type="text" id="gameInput" placeholder="Your answer">
                <button id="submitGameInputButton">Submit</button>
            </div>
        </div>
    </div>    
    <!-- Immediate Message Modal -->
    <div id="immediateMessageModal" class="modal">
        <div class="modal-content">
            <span id="closeImmediateMessageModal" class="close-button">&times;</span>
            <h2 id="immediateModalTitle"></h2>
            <p id="immediateModalMessage"></p>
            <button id="immediateModalCloseButton" class="modalCancelButton">Close</button>
        </div>
    </div>
    <div id="main-container">
        <div id="title-column">
            <div id="title-container">
                <!-- Background image is now handled via CSS -->
            </div>
            <div id="button-container">
                <button id="restartButton">Restart Entire Game</button>
                <button id="restartPrestige">Restart This Prestige</button>
                <button id="settingsButton">Settings</button>
            </div>
        </div>
        <div id="game">
            <div class="resource">
                <p><b>C</b>opium: <span id="copium" class="resource-value">0</span></p>
                <p class="per-second">Copium per second: <span id="cps">0</span></p>
                <div class="buttons">
                    <button id="collectCopiumButton" class="collect-button">Collect Copium</button>
                    <button id="speedGame" class="game-button">
                        <span class="button-content">Speed Game</span>
                        <div class="progress"></div>
                    </button>
                </div>
            </div>
            <div class="resource">
                <p><b>D</b>elusion: <span id="delusion" class="resource-value">0</span></p>
                <p class="per-second">Delusion per second: <span id="dps">0</span>
                    <label class="switch hidden" id="toggleDelusionLabel">
                        <input type="checkbox" id="toggleDelusion">
                        <span class="slider"></span>
                    </label>
                </p>
                <div class="buttons">
                    <button id="collectDelusionButton" class="collect-button">Collect Delusion</button>
                    <button id="memoryGame" class="game-button">
                        <span class="button-content">Memory Game</span>
                        <div class="progress"></div>
                    </button>
                </div>
            </div>
            <div class="resource">
                <p><b>Y</b>acht <b>M</b>oney: <span id="yachtMoney" class="resource-value">0</span></p>
                <p class="per-second">Yacht Money per second: <span id="ymps">0</span></p>
                <div class="buttons">
                    <button id="collectYachtMoneyButton" class="collect-button">Collect Yacht Money</button>
                    <button id="mathGame" class="game-button">
                        <span class="button-content">Math Game</span>
                        <div class="progress"></div>
                    </button>
                </div>
            </div>
            <div class="resource">
                <p><b>T</b>roll <b>P</b>oints: <span id="trollPoints" class="resource-value">0</span></p>
                <p class="per-second">Troll Points per second: <span id="tpps">0</span></p>
                <div class="buttons">
                    <button id="collectTrollPointsButton" class="collect-button">Collect Troll Points</button>
                    <button id="luckGame" class="game-button">
                        <span class="button-content">Luck Game</span>
                        <div class="progress"></div>
                    </button>
                </div>
            </div>
            <div class="resource">
                <p><b>H</b>opium: <span id="hopium" class="resource-value">0</span></p>
                <p class="per-second">Hopium per second: <span id="hps">0</span></p>
                <!-- No collect button for Hopium -->
            </div>
            <div class="resource" id="knowledge-container" style="display: none;">
                <p><b>K</b>nowledge: <span id="knowledge" class="resource-value">0</span></p>
                <p class="per-second">Knowledge per second: <span id="kps">0</span></p>
            </div>
            <div class="resource" id="power-container" style="display: none;">
                <p><b>P</b>ower: <span id="power" class="resource-value">0</span></p>
                <p class="per-second">Power per second: <span id="pps">0</span></p>
            </div>
            <div class="resource" id="serenity-container" style="display: none;">
                <p><b>S</b>erenity: <span id="serenity" class="resource-value">0</span></p>
                <p class="per-second">Serenity per second: <span id="sps">0</span></p>
            </div>
            <div id="cookieButtonContainer">
                <button id="cookieButton" style="display:none;">
                    <img src="imgs/cookie.jpg" alt="Cookie">
                    <span class="cookieTooltip">Each cookie click counts as 10 clicks on collect buttons for Copium, Delusion, Yacht Money, and Troll Points!</span>
                </button>
            </div>
            <button id="prestigeButton" style="display:none;" class="custom-button">Prestige</button>
            <p class="prestige-multiplier-text">
                <span id="prestige-multiplier" class="prestige-multiplier-count">Prestige: x1.00 mult</span>
            </p>
            <button id="ascendButton" style="display:none;" class="custom-button">Ascend Above Mortals</button>
            <p class="god-mode-text" id="god-mode-display">God-Mode Level 0 (x1.00 mult)</p>
            <button id="transcendButton" style="display:none;" class="custom-button">Parallel Transcend</button>
            <p class="pu-god-text" id="pu-god-display" style="display:none;">PU God Level 0 (x1.00 mult)</p>
            <button id="bigCrunchButton" style="display:none;" class="custom-button">Big Crunch</button>
            <p class="big-crunch-text" id="big-crunch-display" style="display:none;">Big Crunch Power 1e-7 (x1.00 mult)</p>
            <button id="libraryButton">Hall of Knowledge</button>
            <button id="powerHallButton" style="display:none;">Hall of Power</button>        
        </div>
        <div id="upgrades">
            <h2>Upgrades</h2>
            <div class="multibuy-buttons-container">
                <button id="buySeenButton" class="hidden">Buy Seen</button>
                <button id="buyMaxButton" class="hidden">Buy Max</button>
            </div>
            <div id="upgradeList" class="avail-grid">
                <!-- Upgrades will be dynamically added here -->
            </div>
        </div>
        <div id="right-section">
            <div id="tradeSection">
                <h2>Trade Resources</h2>
                <label for="fromResource">From:</label>
                <select id="fromResource" onchange="updateTradeRatio()">
                    <option value="copium">Copium</option>
                    <option value="delusion">Delusion</option>
                    <option value="yachtMoney">Yacht Money</option>
                    <option value="trollPoints">Troll Points</option>
                </select>
                
                <label for="fromResource">To:</label>
                <select id="toResource" onchange="updateTradeRatio()">
                    <option value="copium">Copium</option>
                    <option value="delusion" selected>Delusion</option>
                    <option value="yachtMoney">Yacht Money</option>
                    <option value="trollPoints">Troll Points</option>
                    <option value="hopium">Hopium</option> <!-- Add Hopium as a tradeable resource -->
                </select>
                <label for="tradeAmount">Amount:</label>
                <input type="text" id="tradeAmount" value="" placeholder="Enter (e.g. 1.5M or 50%)">
                <p id="tradeRatioDisplay">Trade ratio is 10:1</p>
                <button id="tradeButton">Trade</button>
            </div>
            <div id="purchasedUpgrades">
                <h2>Purchased Upgrades</h2>
                <div id="purchasedList" class="grid">
                    <!-- Purchased upgrades will be shown here with images -->
                </div>
            </div>
        </div>
    </div>
    <div id="statusOverlay" class="status-overlay"></div>
    <!-- Include the Library overlay HTML -->
    <div id="libraryOverlay" class="library-overlay" style="display: none;">
        <div class="library-overlay-content">
            <span class="close-button" id="closeLibraryOverlay">&times;</span>
            <h1>Hall of Knowledge</h1>
            <h4>Welcome to the illustrious Hall of Knowledge, a revered sanctuary where the wisdom of ages is preserved and shared. Within these hallowed halls, you will discover an array of skills and insights, each meticulously curated to empower your journey.<br><br>Every skill you acquire here is a beacon of enlightenment, and its benefits are everlasting. These skills are designed to endure, persisting across all prestiges, ascensions, and whatever challenges or triumphs the future may hold. Embrace the permanence of your newfound wisdom, for it will remain with you as a steadfast guide, lighting your path through every stage of your odyssey.</h4>
            <div id="librarySkills">
                <!-- Skills will be dynamically added here -->
            </div>
            <button id="closeLibraryButton">Exit</button>
        </div>
    </div>
    <div id="powerHallOverlay" class="powerhall-overlay" style="display: none;">
        <div class="powerhall-overlay-content">
            <span class="close-button" id="closePowerHallOverlay">&times;</span>
            <h1>HALL OF POWER</h1>
            <h4>Welcome to the Hall of Power, a place where the strongest beings from countless realities converge. Nestled between the threads of the megaverse, this market of might is unlike anything you've ever encountered. Here, the air crackles with energy as warriors, sorcerers, and cosmic entities barter and trade not for trinkets, but for raw power itself.<br><br>                Each skill you master within these hallowed grounds is a key to unlocking the primordial forces that bind the megaverse together. As you hone your abilities, you’ll find yourself ascending through challenges that test the limits of your strength, pushing you ever closer to the ultimate power that echoes through every universe and dimension.</h4>
            <div id="powerHallSkills">
                <!-- Power skills will be dynamically added here -->
            </div>
            <button id="closePowerHallButton">Exit</button>
        </div>
    </div>
    <!-- Settings Overlay -->
    <div id="settingsOverlay" class="settings-overlay" style="display: none;">
        <div class="settings-overlay-content">
            <span class="close-button" id="closeSettingsOverlay">&times;</span>
            <h1>Settings</h1>
            <h4>Degens Idle v0.832</h4>
            <p class="settings-note">Please note, this game is a labor of love and is always evolving. Save files might not work with major updates, but I'll do my best to keep things compatible.</p>
            <div class="settings-buttons">
                <button id="exportSaveButton">Export Save</button>
                <button id="importSaveButton">Import Save</button>
                <button id="howToPlayButton">How to Play?</button>
            </div>
            <div class="settings-note">
                Your feedback is crucial as the game grows. I genuinely value every suggestion and insight you share. Thank you for helping shape the future of Degens Idle!
            </div>
            <button id="feedbackButton">Give Feedback</button>
            <p class="discord-note">I'd love to see you join our Discord! Whether you just want to show you enjoyed the game or share some feedback (good or bad), your support means a lot!</p>
            <button id="discordButton">
                <img src="imgs/textures/discord.svg" alt="Discord" id="discordIcon">
            </button>
            <button id="donateButton">Donate</button>
            <button id="closeSettingsButton">Exit</button>
        </div>
    </div>
    <!-- Donation Overlay -->
    <div id="donationOverlay" class="donation-overlay" style="display: none;">
        <div class="donation-overlay-content">
            <span class="close-button" id="closeDonationOverlay">&times;</span>
            <h1>Support the Game</h1>
            <p>Thanks for even thinking about donating! Making an idle game has always been a dream of mine, and this game is my baby, born from a deep love for idle games and a desire to bring joy to your screen. This is my first game ever, and I had to reach back over a decade to remember things I learned as an undergrad. No matter what, this is a passion project, so I'll keep developing it, and I promise—no paid features or ads of any kind will ever invade our fun. While I'm not struggling financially (no ramen diet here, unless by choice), a little token of appreciation from you would mean the world to me. It’s like a virtual high-five that keeps me motivated to juggle this project alongside my full-time job, life responsibilities, and other numerous hobbies. So, if you enjoy the game and can spare a few coins, it would be an enormous encouragement! Thanks a bunch!</p>
            <button id="donateSmallButton">Buy me a Coffee</button>
            <button id="donateMediumButton">Venmo me directly</button>
            <button id="donateLargeButton">Cash by Carrier Pidgeon</button>
            <button id="closeDonationButton">Exit</button>
        </div>
    </div>
    <!-- Hidden file input for importing save file -->
    <input type="file" id="importFileInput" style="display: none;">
    <script src="upgrades.js"></script>
    <script src="script.js"></script>
    <script src="library.js"></script>
    <script src="powerhall.js"></script>
    <script src="settings.js"></script>
</body>
</html>
